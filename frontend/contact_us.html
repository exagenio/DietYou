<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="assets/css/contact_us.css">
	<title>Contact Us</title>

	<script type="text/javascript">

		
		// validation function that will get called when the view querry button pressed
		function validation(){
			var firstname = document.getElementById("f_name");
			var lastname = document.getElementById("l_name");
			var email = document.getElementById("email");
			var subject_1 = document.getElementById("Question");
			var subject_2 = document.getElementById("Suggestion");
			var subject_3 = document.getElementById("other");
			var tel = document.getElementById("tel");
			var details = document.getElementById('details')
			var subject = document.querySelector('input[name="subject"]:checked')
			
			// checking if all the form boxes are filled
			if(firstname.value.trim() == ""){
				alert("First Name can not be empty")
				return false
				
			}
			else if(lastname.value.trim() == ""){
				alert("Last name can not be empty")
				return false
				
			}
			else if(email.value.trim() == ""){
				alert("Email can not be empty")
				return false
				
			}

			else if(tel.value.trim() == ""){
				alert("Contact Number can not be empty")
				return false
			}


			else if (!(document.getElementById("Question").checked == true || document.getElementById("Suggestion").checked == true || document.getElementById("other").checked == true  )){
				alert("Select a subject")
				return false
				
			}

			else if (details.value.trim() == ""){
				alert("Query Detail can not be empty")
				return false
			}
			


			else {
// when all the boxes filled it will hide the form and show empty div called summary
				document.getElementById('main').style.display = 'none'
				document.getElementById('summary').style.display = 'block'
				// writing summary details in the div

				document.getElementById('summary').innerHTML = '<div class="sum"><p>Name:'+firstname.value+' '+lastname.value+'</p>'+'<br><p>Email: '+email.value+'</p>'+'<br><p>Contact Number: '+tel.value+'</p>'+'<br><p>Subject: '+subject.value+'</p>'+'<br><p>Details: '+details.value+'</p></div>'+'<div class="buttons"><input class="edit_button" type="button" name="edit" value="Edit" id="edit" onclick="previousPage()">' + '<button class="send" id="send" type="button" value="Submit" onclick="previousAndSend()">Send</button></div>'


				
			}

		}


// when the edit button is pressed in the query summary
		function previousPage(){
			//hides summary div and display the div with the form
			document.getElementById('summary').style.display = 'none';
			document.getElementById('main').style.display = 'block';
		}

// when the send button is pressed
		function previousAndSend(){
			alert("Your Query will be sent to our team")
			document.getElementById('summary').style.display = 'none';
			document.getElementById('main').style.display = 'block';
			document.getElementById('form').submit();
			document.getElementById('form').reset();
			
			console.log('working')
			
		}




	</script>




</head>
<body>



	<div id="summary">
		<!-- this is for the summary of the query -->
	</div>


	 <div id="main">
		 <div class="container">
		 	<div class="title">Get In Touch</div>
		 	<div class="description">Have any question or suggestions? let us know.</div>
		 	<form id="form" action="mailto:ranvinu.20210262@iit.ac.lk" method="POST" enctype="text/plain" >
		 		
		 			<!-- shows the form with fields and view query button -->
			 		<div class="names">
				 		<span class="fistname">
				 			<label for="f_name">First Name:</label>
				 			<input type="text" name="f_name" id="f_name" placeholder="Enter Your Frst Name Here" size="29">
				 		</span>
				 		<span class="lastname">
				 			<label for="l_name">Last Name:</label>
				 			<input type="text" name="l_name" id="l_name" placeholder="Enter Your Last Name Here" size="29">
				 		</span>
			 		</div>

			 		<div class="row_2">
				 		<span class="mail">
				 			<label for="email">Email:</label>
				 			<input type="email" name="email" id="email" placeholder="alex123@gmail.com" size="30">
				 		</span>
				 		<span class="tel">
				 			<label for="tel">Contact Number:</label>
				 			<input type="tel" name="tel" id="tel" placeholder="+94774565879" size="29">
				 		</span>
				 	</div>

				 	<div class="row_3">
				 		<p>Subject of the Query</p>
				 		<div class="radio">
					 		<input type="radio" name="subject" id="Question" value="Question">
					 		<label for="Question">Question</label>
					 		<input type="radio" name="subject" id="Suggestion" value="Suggestion">
					 		<label for="Suggestion">Suggestion</label>
					 		<input type="radio" name="subject" id="other" value="other">
					 		<label for="other">Other</label>
				 		</div>
				 	</div>

				 	<div class="row_4">
				 		<p>Query Details:</p>
				 		<div class="details">
				 			<textarea id="details" rows="6" cols="92"></textarea>
				 		</div>
				 	</div>

				 	<div class="viewquery">
				 		<input type="button" name="button" id="submit_btn" value="View Query" onclick="validation()">
				 	</div>

		

			 	

		 	</form>

		 </div>
	 </div>






</body>
</html>